From 292714e5cf577090a056f0c81c6ea3f8bc03b9b8 Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Fri, 22 Aug 2014 21:30:19 -0500
Subject: [PATCH 14/17] am335x-bone-common: pinmux led/keys lcd7-01-00a2

Signed-off-by: Robert Nelson <robertcnelson@gmail.com>
---
 arch/arm/boot/dts/am335x-bone-common-pinmux.dtsi | 10 +++++
 arch/arm/boot/dts/am335x-bone-lcd7-01-00a2.dtsi  | 52 ++++++++++++++++++++++++
 2 files changed, 62 insertions(+)

diff --git a/arch/arm/boot/dts/am335x-bone-common-pinmux.dtsi b/arch/arm/boot/dts/am335x-bone-common-pinmux.dtsi
index 729cc0d..50ef1c1 100644
--- a/arch/arm/boot/dts/am335x-bone-common-pinmux.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-common-pinmux.dtsi
@@ -165,6 +165,16 @@
 		>;
 	};
 
+	lcd7_01_00a2_keymap_pins: pinmux_lcd7_01_00a2_keymap_pins {
+		pinctrl-single,pins = <
+			0x040 0x2f	/* KEY_LEFT gpmc_a0.gpio1_16, INPUT | PULLDIS | MODE7 */
+			0x044 0x2f	/* KEY_RIGHT gpmc_a1.gpio1_17, INPUT | PULLDIS | MODE7 */
+			0x04c 0x2f 	/* KEY_UP gpmc_a3.gpio1_19, INPUT | PULLDIS | MODE7 */
+			0x198 0x2f	/* KEY_DOWN mcasp0_axr0.gpio3_16, INPUT | PULLDIS | MODE7 */
+			0x1a4 0x2f	/* KEY_ENTER mcasp0_fsr.gpio3_19, INPUT | PULLDIS | MODE7 */
+		>;
+	};
+
 	lcd7_01_00a3_keymap_pins: pinmux_lcd7_01_00a3_keymap_pins {
 		pinctrl-single,pins = <
 			0x040 0x2f	/* KEY_LEFT gpmc_a0.gpio1_16, INPUT | PULLDIS | MODE7 */
diff --git a/arch/arm/boot/dts/am335x-bone-lcd7-01-00a2.dtsi b/arch/arm/boot/dts/am335x-bone-lcd7-01-00a2.dtsi
index f35157f..3521b95 100644
--- a/arch/arm/boot/dts/am335x-bone-lcd7-01-00a2.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-lcd7-01-00a2.dtsi
@@ -6,6 +6,58 @@
  * published by the Free Software Foundation.
  */
 
+/ {
+	gpio_keys {
+		compatible = "gpio-keys";
+		pinctrl-names = "default";
+		pinctrl-0 = <&lcd7_01_00a2_keymap_pins>;
+
+		#address-cells = <1>;
+		#size-cells = <0>;
+
+		button@1 {
+			debounce_interval = <50>;
+			linux,code = <105>;
+			label = "left";
+			gpios = <&gpio1 16 0x1>;
+			gpio-key,wakeup;
+			autorepeat;
+		};
+		button@2 {
+			debounce_interval = <50>;
+			linux,code = <106>;
+			label = "right";
+			gpios = <&gpio1 17 0x1>;
+			gpio-key,wakeup;
+			autorepeat;
+		};
+		button@3 {
+			debounce_interval = <50>;
+			linux,code = <103>;
+			label = "up";
+			gpios = <&gpio1 19 0x1>;
+			gpio-key,wakeup;
+			autorepeat;
+		};
+		button@4 {
+			debounce_interval = <50>;
+			linux,code = <108>;
+			label = "down";
+			gpios = <&gpio3 16 0x1>;
+			gpio-key,wakeup;
+			autorepeat;
+		};
+		button@5 {
+			debounce_interval = <50>;
+			linux,code = <28>;
+			label = "enter";
+			gpios = <&gpio3 19 0x1>;
+			gpio-key,wakeup;
+		};
+	};
+};
+
+#include "am335x-bone-lcd-led-gpio1-28.dtsi"
 #include "am335x-bone-lcd-gpio-backlight-gpio1-18.dtsi"
 #include "am335x-bone-ti-tscadc-4-wire.dtsi"
 #include "am335x-bone-lcd7.dtsi"
-- 
2.1.0.rc1

