From 6ad3d61e74e79719942fb8475a9fe5c5c02f926d Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Thu, 4 Apr 2019 13:53:18 -0500
Subject: [PATCH] am335x-* add spidev symlink

Signed-off-by: Robert Nelson <robertcnelson@gmail.com>
---
 arch/arm/boot/dts/am335x-boneblack-bbbmini.dts | 3 +++
 arch/arm/boot/dts/am335x-pocketbeagle.dts      | 4 ++++
 2 files changed, 7 insertions(+)

diff --git a/arch/arm/boot/dts/am335x-boneblack-bbbmini.dts b/arch/arm/boot/dts/am335x-boneblack-bbbmini.dts
index 68c5a6bb9b1d..2146f78f27da 100644
--- a/arch/arm/boot/dts/am335x-boneblack-bbbmini.dts
+++ b/arch/arm/boot/dts/am335x-boneblack-bbbmini.dts
@@ -156,6 +156,7 @@
 		spi-max-frequency = <24000000>;
 		reg = <0>;
 		compatible = "spidev";
+		symlink = "spi/0.0";
 	};
 };
 
@@ -170,6 +171,7 @@
 		reg = <0>;
 		spi-max-frequency = <24000000>;
 		compatible = "spidev";
+		symlink = "spi/1.0";
 	};
 
 	spi1_1 {
@@ -178,6 +180,7 @@
 		reg = <1>;
 		spi-max-frequency = <24000000>;
 		compatible = "spidev";
+		symlink = "spi/1.1";
 	};
 };
 
diff --git a/arch/arm/boot/dts/am335x-pocketbeagle.dts b/arch/arm/boot/dts/am335x-pocketbeagle.dts
index 6d8071c2ec02..6a05dd0bb6c9 100644
--- a/arch/arm/boot/dts/am335x-pocketbeagle.dts
+++ b/arch/arm/boot/dts/am335x-pocketbeagle.dts
@@ -1139,6 +1139,7 @@
 		#address-cells = <1>;
 		#size-cells = <0>;
 		compatible = "spidev";
+		symlink = "spi/0.0";
 		reg = <0>;
 		spi-max-frequency = <24000000>;
 	};
@@ -1147,6 +1148,7 @@
 		#address-cells = <1>;
 		#size-cells = <0>;
 		compatible = "spidev";
+		symlink = "spi/0.1";
 		reg = <1>;
 		spi-max-frequency = <24000000>;
 		status = "disabled";
@@ -1163,6 +1165,7 @@
 		#address-cells = <1>;
 		#size-cells = <0>;
 		compatible = "spidev";
+		symlink = "spi/1.0";
 		reg = <0>;
 		spi-max-frequency = <24000000>;
 	};
@@ -1171,6 +1174,7 @@
 		#address-cells = <1>;
 		#size-cells = <0>;
 		compatible = "spidev";
+		symlink = "spi/1.1";
 		reg = <1>;
 		spi-max-frequency = <24000000>;
 	};
-- 
2.20.1

