From 5ec6248ba7843e0e948b50a113f23c14035d9302 Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Thu, 4 Apr 2019 13:13:36 -0500
Subject: [PATCH] am335x-* add spidev symlink

Signed-off-by: Robert Nelson <robertcnelson@gmail.com>
---
 arch/arm/boot/dts/am335x-boneblack-bbbmini.dts | 3 +++
 arch/arm/boot/dts/am335x-boneblue.dts          | 2 ++
 arch/arm/boot/dts/am335x-roboticscape.dtsi     | 2 ++
 3 files changed, 7 insertions(+)

diff --git a/arch/arm/boot/dts/am335x-boneblack-bbbmini.dts b/arch/arm/boot/dts/am335x-boneblack-bbbmini.dts
index 5ed89a2b113c..9544ddf0ab3e 100644
--- a/arch/arm/boot/dts/am335x-boneblack-bbbmini.dts
+++ b/arch/arm/boot/dts/am335x-boneblack-bbbmini.dts
@@ -157,6 +157,7 @@
 		spi-max-frequency = <24000000>;
 		reg = <0>;
 		compatible = "spidev";
+		symlink = "spi/0.0";
 	};
 };
 
@@ -171,6 +172,7 @@
 		reg = <0>;
 		spi-max-frequency = <24000000>;
 		compatible = "spidev";
+		symlink = "spi/1.0";
 	};
 
 	spi1_1 {
@@ -179,6 +181,7 @@
 		reg = <1>;
 		spi-max-frequency = <24000000>;
 		compatible = "spidev";
+		symlink = "spi/1.1";
 	};
 };
 
diff --git a/arch/arm/boot/dts/am335x-boneblue.dts b/arch/arm/boot/dts/am335x-boneblue.dts
index e2a2fb54fde5..7b33b9490d73 100644
--- a/arch/arm/boot/dts/am335x-boneblue.dts
+++ b/arch/arm/boot/dts/am335x-boneblue.dts
@@ -555,6 +555,7 @@
 		#address-cells = <1>;
 		#size-cells = <0>;
 		compatible = "spidev";
+		symlink = "spi/1.0";
 		reg = <0>;
 		spi-max-frequency = <24000000>;
 	};
@@ -563,6 +564,7 @@
 		#address-cells = <1>;
 		#size-cells = <0>;
 		compatible = "spidev";
+		symlink = "spi/1.1";
 		reg = <1>;
 		spi-max-frequency = <24000000>;
 	};
diff --git a/arch/arm/boot/dts/am335x-roboticscape.dtsi b/arch/arm/boot/dts/am335x-roboticscape.dtsi
index 77d815a3af5f..78ff58fdb719 100644
--- a/arch/arm/boot/dts/am335x-roboticscape.dtsi
+++ b/arch/arm/boot/dts/am335x-roboticscape.dtsi
@@ -377,6 +377,7 @@
 		#size-cells = <0>;
 
 		compatible = "spidev";
+		symlink = "spi/1.0";
 
 		reg = <0>;
 		spi-max-frequency = <16000000>;
@@ -388,6 +389,7 @@
 		#size-cells = <0>;
 
 		compatible = "spidev";
+		symlink = "spi/1.1";
 
 		reg = <1>;
 		spi-max-frequency = <16000000>;
-- 
2.20.1

